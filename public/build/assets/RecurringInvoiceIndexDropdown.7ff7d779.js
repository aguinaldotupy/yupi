import{a6 as D,u as C,C as E,p as k,b as x,o as S,c as V,s as p}from"./main.9bc4ee1d.js";import{i as $,z as c,A as n,O as a,K as o,u as t,C as s,L as I,M as v,N as y}from"./vendor.8df7962f.js";const z={props:{row:{type:Object,default:null},table:{type:Object,default:null},loadData:{type:Function,default:()=>{}}},setup(l){const _=l,g=D(),h=C(),N=E(),m=k(),{t:r}=x(),w=S();V(),$("utils");async function b(i=null){N.openDialog({title:r("general.are_you_sure"),message:r("invoices.confirm_delete"),yesLabel:r("general.ok"),noLabel:r("general.cancel"),variant:"danger",hideNoButton:!1,size:"lg"}).then(async u=>{u&&await g.deleteMultipleRecurringInvoices(i).then(e=>{e.data.success?(_.table&&_.table.refresh(),g.$patch(d=>{d.selectedRecurringInvoices=[],d.selectAllField=!1}),h.showNotification({type:"success",message:r("recurring_invoices.deleted_message",2)})):e.data.error&&h.showNotification({type:"error",message:e.data.message})})})}return(i,u)=>{const e=c("BaseIcon"),d=c("BaseButton"),f=c("BaseDropdownItem"),R=c("router-link"),B=c("BaseDropdown");return n(),a(B,{"content-loading":t(g).isFetchingViewData},{activator:o(()=>[t(w).name==="recurring-invoices.view"?(n(),a(d,{key:0,variant:"primary"},{default:o(()=>[s(e,{name:"DotsHorizontalIcon",class:"h-5 text-white"})]),_:1})):(n(),a(e,{key:1,name:"DotsHorizontalIcon",class:"h-5 text-gray-500"}))]),default:o(()=>[t(m).hasAbilities(t(p).EDIT_RECURRING_INVOICE)?(n(),a(R,{key:0,to:`/admin/recurring-invoices/${l.row.id}/edit`},{default:o(()=>[s(f,null,{default:o(()=>[s(e,{name:"PencilIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),I(" "+v(i.$t("general.edit")),1)]),_:1})]),_:1},8,["to"])):y("",!0),t(w).name!=="recurring-invoices.view"&&t(m).hasAbilities(t(p).VIEW_RECURRING_INVOICE)?(n(),a(R,{key:1,to:`recurring-invoices/${l.row.id}/view`},{default:o(()=>[s(f,null,{default:o(()=>[s(e,{name:"EyeIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),I(" "+v(i.$t("general.view")),1)]),_:1})]),_:1},8,["to"])):y("",!0),t(m).hasAbilities(t(p).DELETE_RECURRING_INVOICE)?(n(),a(f,{key:2,onClick:u[0]||(u[0]=O=>b(l.row.id))},{default:o(()=>[s(e,{name:"TrashIcon",class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500"}),I(" "+v(i.$t("general.delete")),1)]),_:1})):y("",!0)]),_:1},8,["content-loading"])}}};export{z as _};
