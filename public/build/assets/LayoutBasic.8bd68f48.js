import{u as X}from"./auth.803a091d.js";import{ah as Y,ai as M,aj as I,ak as Z,al as U,am as w,an as T,ao as ee,ap as C,aq as E,ar as te,as as W,b as se,o as V,c as oe,q as ae,at as re,au as ne,av as le,aw as ie,ax as ue,ay as ce}from"./main.9bc4ee1d.js";import{u as z}from"./global.f0bfa203.js";import{d as K,e as S,p as F,c as k,i as q,a4 as de,w as pe,z as j,A as g,O as D,K as h,J as s,u as o,B as $,U as R,P as L,L as O,M as x,F as N,C as d,N as fe}from"./vendor.8df7962f.js";import{N as he}from"./NotificationRoot.91356975.js";var r;(function(p){p[p.Open=0]="Open",p[p.Closed=1]="Closed"})(r||(r={}));var H=Symbol("DisclosureContext");function B(p){var e=q(H,null);if(e===null){var a=new Error("<"+p+" /> is missing a parent <Disclosure /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(a,B),a}return e}var G=Symbol("DisclosurePanelContext");function me(){return q(G,null)}var ve=K({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup:function(e,a){var t=a.slots,l=a.attrs,_="headlessui-disclosure-button-"+W(),y="headlessui-disclosure-panel-"+W(),i=S(e.defaultOpen?r.Open:r.Closed),b=S(null),n=S(null),v={buttonId:_,panelId:y,disclosureState:i,panel:b,button:n,toggleDisclosure:function(){var c;i.value=M(i.value,(c={},c[r.Open]=r.Closed,c[r.Closed]=r.Open,c))},closeDisclosure:function(){i.value!==r.Closed&&(i.value=r.Closed)},close:function(c){v.closeDisclosure();var m=function(){return c?c instanceof HTMLElement?c:c.value instanceof HTMLElement?w(c):w(v.button):w(v.button)}();m==null||m.focus()}};return F(H,v),Y(k(function(){var f;return M(i.value,(f={},f[r.Open]=I.Open,f[r.Closed]=I.Closed,f))})),function(){var f=Z(e,["defaultOpen"]),c={open:i.value===r.Open,close:v.close};return U({props:f,slot:c,slots:t,attrs:l,name:"Disclosure"})}}}),ge=K({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},render:function(){var e=B("DisclosureButton"),a={open:e.disclosureState.value===r.Open},t=this.isWithinPanel?{ref:"el",type:this.type,onClick:this.handleClick,onKeydown:this.handleKeyDown}:{id:this.id,ref:"el",type:this.type,"aria-expanded":this.$props.disabled?void 0:e.disclosureState.value===r.Open,"aria-controls":w(e.panel)?e.panelId:void 0,disabled:this.$props.disabled?!0:void 0,onClick:this.handleClick,onKeydown:this.handleKeyDown,onKeyup:this.handleKeyUp};return U({props:T({},this.$props,t),slot:a,attrs:this.$attrs,slots:this.$slots,name:"DisclosureButton"})},setup:function(e,a){var t=a.attrs,l=B("DisclosureButton"),_=me(),y=_===null?!1:_===l.panelId,i=S(null);return y||de(function(){l.button.value=i.value}),{isWithinPanel:y,id:l.buttonId,el:i,type:ee(k(function(){return{as:e.as,type:t.type}}),i),handleClick:function(){if(!e.disabled)if(y){var n;l.toggleDisclosure(),(n=w(l.button))==null||n.focus()}else l.toggleDisclosure()},handleKeyDown:function(n){var v;if(!e.disabled)if(y)switch(n.key){case C.Space:case C.Enter:n.preventDefault(),n.stopPropagation(),l.toggleDisclosure(),(v=w(l.button))==null||v.focus();break}else switch(n.key){case C.Space:case C.Enter:n.preventDefault(),n.stopPropagation(),l.toggleDisclosure();break}},handleKeyUp:function(n){switch(n.key){case C.Space:n.preventDefault();break}}}}}),ye=K({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},render:function(){var e=B("DisclosurePanel"),a={open:e.disclosureState.value===r.Open,close:e.close},t={id:this.id,ref:"el"};return U({props:T({},this.$props,t),slot:a,attrs:this.$attrs,slots:this.$slots,features:E.RenderStrategy|E.Static,visible:this.visible,name:"DisclosurePanel"})},setup:function(){var e=B("DisclosurePanel");F(G,e.panelId);var a=te(),t=k(function(){return a!==null?a.value===I.Open:e.disclosureState.value===r.Open});return{id:e.panelId,el:e.panel,visible:t}}});const _e={class:"mx-auto px-8"},be={class:"flex justify-between h-16 w-full"},xe={class:"flex"},we={class:"shrink-0 flex items-center"},ke=["href"],De=["src"],Ce={class:"hidden sm:-my-px sm:ml-6 sm:flex sm:space-x-8"},Se={class:"hidden sm:ml-6 sm:flex sm:items-center"},$e=s("button",{type:"button",class:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1),Oe=["src"],Be={class:"-mr-2 flex items-center sm:hidden"},Pe=s("span",{class:"sr-only"},"Open main menu",-1),je={class:"pt-2 pb-3 space-y-1"},Ie={class:"pt-4 pb-3 border-t border-gray-200"},Ue={class:"flex items-center px-4"},Ke={class:"shrink-0"},Re=["src"],Le={class:"ml-3"},Ne={class:"text-base font-medium text-gray-800"},Ae={class:"text-sm font-medium text-gray-500"},Me=s("button",{type:"button",class:"ml-auto bg-white shrink-0 p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},null,-1),Te={class:"mt-3 space-y-1"},Ee={setup(p){const{t:e}=se(),a=V(),t=z(),l=[{title:e("navigation.logout"),link:`/${t.companySlug}/customer/login`}],_=X(),y=oe(),i=S(""),b=k(()=>t.currentUser&&t.currentUser.avatar!==0?t.currentUser.avatar:n());function n(){return new URL("/build/img/default-avatar.jpg",self.location)}pe(a,m=>{i.value=m.path},{immediate:!0});const v=k(()=>window.customer_logo?window.customer_logo:!1);function f(m){return a.path.indexOf(m)>-1}function c(){_.logout(t.companySlug).then(m=>{m&&y.push({name:"customer.login"})})}return(m,ze)=>{const P=j("router-link"),A=j("BaseDropdownItem"),J=j("BaseDropdown");return g(),D(o(ve),{as:"nav",class:"bg-white shadow-sm fixed top-0 left-0 z-20 w-full"},{default:h(({open:Q})=>[s("div",_e,[s("div",be,[s("div",xe,[s("div",we,[s("a",{href:`/${o(t).companySlug}/customer/dashboard`,class:"float-none text-lg not-italic font-black tracking-wider text-white brand-main md:float-left font-base"},[o(v)?(g(),$("img",{key:1,src:o(v),class:"h-6"},null,8,De)):(g(),D(ae,{key:0,class:"h-6"}))],8,ke)]),s("div",Ce,[(g(!0),$(N,null,R(o(t).mainMenu,u=>(g(),D(P,{key:u.title,to:`/${o(t).companySlug}${u.link}`,class:L([f(u.link)?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:h(()=>[O(x(u.title),1)]),_:2},1032,["to","class"]))),128))])]),s("div",Se,[$e,d(o(ie),{as:"div",class:"ml-3 relative"},{default:h(()=>[d(J,{"width-class":"w-48"},{activator:h(()=>[d(o(re),{class:"bg-white flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:h(()=>[s("img",{class:"h-8 w-8 rounded-full",src:o(b),alt:""},null,8,Oe)]),_:1})]),default:h(()=>[d(P,{to:{name:"customer.profile"}},{default:h(()=>[d(A,null,{default:h(()=>[d(o(ne),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),O(" "+x(m.$t("navigation.settings")),1)]),_:1})]),_:1},8,["to"]),d(A,{onClick:c},{default:h(()=>[d(o(le),{class:"w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),O(" "+x(m.$t("navigation.logout")),1)]),_:1})]),_:1})]),_:1})]),s("div",Be,[d(o(ge),{class:"bg-white inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:h(()=>[Pe,Q?(g(),D(o(ce),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(g(),D(o(ue),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)])])]),d(o(ye),{class:"sm:hidden"},{default:h(()=>[s("div",je,[(g(!0),$(N,null,R(o(t).mainMenu,u=>(g(),D(P,{key:u.title,to:`/${o(t).companySlug}${u.link}`,class:L([f(u.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),"aria-current":u.current?"page":void 0},{default:h(()=>[O(x(u.title),1)]),_:2},1032,["to","class","aria-current"]))),128))]),s("div",Ie,[s("div",Ue,[s("div",Ke,[s("img",{class:"h-10 w-10 rounded-full",src:o(b),alt:""},null,8,Re)]),s("div",Le,[s("div",Ne,x(o(t).currentUser.title),1),s("div",Ae,x(o(t).currentUser.email),1)]),Me]),s("div",Te,[(g(),$(N,null,R(l,u=>d(P,{key:u.title,to:u.link,class:L([f(u.link)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"])},{default:h(()=>[O(x(u.title),1)]),_:2},1032,["to","class"])),64))])])]),_:1})]),_:1})}}},We={key:0,class:"h-full"},Ve={class:"mt-16 pb-16 h-screen overflow-y-auto min-h-0"},Qe={setup(p){const e=z(),a=V(),t=k(()=>e.isAppLoaded);l();async function l(){await e.bootstrap(a.params.company)}return(_,y)=>{const i=j("router-view");return o(t)?(g(),$("div",We,[d(he),d(Ee),s("main",Ve,[d(i)])])):fe("",!0)}}};export{Qe as default};
