import{e as w,c as $,z as l,A as p,B as M,C as n,K as u,u as e,O as y,j as b,J as B,L as _,M as h,a1 as N}from"./vendor.8df7962f.js";import{u as j,a as E,b as L,c as A,d as c,r as I,e as G,f as O,g as R}from"./main.9bc4ee1d.js";const T=["onSubmit"],U={class:"mt-5 mb-8"},z={class:"mb-4"},P={setup(F){const V=j(),s=E(),{t:m}=L(),k=A(),d=w(!1);let o=w(!1);const S={email:{required:c.withMessage(m("validation.required"),I),email:c.withMessage(m("validation.email_incorrect"),G)},password:{required:c.withMessage(m("validation.required"),I)}},a=O(S,$(()=>s.loginData)),x=$(()=>o.value?"text":"password");async function q(){if(R.defaults.withCredentials=!0,a.value.$touch(),a.value.$invalid)return!0;d.value=!0;try{d.value=!0,await s.login(s.loginData),k.push("/admin/dashboard"),V.showNotification({type:"success",message:"Logged in successfully."})}catch{d.value=!1}}return(i,t)=>{const f=l("BaseInput"),g=l("BaseInputGroup"),v=l("BaseIcon"),D=l("router-link"),C=l("BaseButton");return p(),M("form",{id:"loginForm",class:"mt-12 text-left",onSubmit:N(q,["prevent"])},[n(g,{error:e(a).email.$error&&e(a).email.$errors[0].$message,label:i.$t("login.email"),class:"mb-4",required:""},{default:u(()=>[n(f,{modelValue:e(s).loginData.email,"onUpdate:modelValue":t[0]||(t[0]=r=>e(s).loginData.email=r),invalid:e(a).email.$error,focus:"",type:"email",name:"email",onInput:t[1]||(t[1]=r=>e(a).email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),n(g,{error:e(a).password.$error&&e(a).password.$errors[0].$message,label:i.$t("login.password"),class:"mb-4",required:""},{default:u(()=>[n(f,{modelValue:e(s).loginData.password,"onUpdate:modelValue":t[4]||(t[4]=r=>e(s).loginData.password=r),invalid:e(a).password.$error,type:e(x),name:"password",onInput:t[5]||(t[5]=r=>e(a).password.$touch())},{right:u(()=>[e(o)?(p(),y(v,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:t[2]||(t[2]=r=>b(o)?o.value=!e(o):o=!e(o))})):(p(),y(v,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:t[3]||(t[3]=r=>b(o)?o.value=!e(o):o=!e(o))}))]),_:1},8,["modelValue","invalid","type"])]),_:1},8,["error","label"]),B("div",U,[B("div",z,[n(D,{to:"forgot-password",class:"text-sm text-primary-400 hover:text-gray-700"},{default:u(()=>[_(h(i.$t("login.forgot_password")),1)]),_:1})])]),n(C,{loading:d.value,type:"submit"},{default:u(()=>[_(h(i.$t("login.login")),1)]),_:1},8,["loading"])],40,T)}}};export{P as default};
