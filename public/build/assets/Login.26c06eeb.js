var N=Object.defineProperty,O=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var b=(s,a,t)=>a in s?N(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,B=(s,a)=>{for(var t in a||(a={}))T.call(a,t)&&b(s,t,a[t]);if(D)for(var t of D(a))z.call(a,t)&&b(s,t,a[t]);return s},I=(s,a)=>O(s,P(a));import{e as _,c as h,z as c,A as v,B as A,C as i,K as m,u as e,O as k,J as V,L as S,M as q,P as G,a1 as R}from"./vendor.8df7962f.js";import{c as U,o as F,b as J,d as w,r as x,e as K,f as H}from"./main.9bc4ee1d.js";import{u as Q}from"./auth.803a091d.js";const W=["onSubmit"],X={class:"flex items-center justify-between"},oe={setup(s){const a=U(),t=F(),l=Q(),{t:g}=J();let p=_(!1);const u=_(!1),C=h(()=>u.value?"text":"password"),j=h(()=>({loginData:{email:{required:w.withMessage(g("validation.required"),x),email:w.withMessage(g("validation.email_incorrect"),K)},password:{required:w.withMessage(g("validation.required"),x)}}})),r=H(j,l);async function M(){if(r.value.loginData.$touch(),r.value.loginData.$invalid)return!0;p.value=!0;let d=I(B({},l.loginData),{company:t.params.company});try{return await l.login(d),p.value=!1,a.push({name:"customer.dashboard"});l.$reset()}catch{p.value=!1}}return(d,o)=>{const $=c("BaseInput"),y=c("BaseInputGroup"),f=c("BaseIcon"),E=c("router-link"),L=c("BaseButton");return v(),A("form",{id:"loginForm",class:"space-y-6",action:"#",method:"POST",onSubmit:R(M,["prevent"])},[i(y,{error:e(r).loginData.email.$error&&e(r).loginData.email.$errors[0].$message,label:d.$t("login.email"),class:"mb-4",required:""},{default:m(()=>[i($,{modelValue:e(l).loginData.email,"onUpdate:modelValue":o[0]||(o[0]=n=>e(l).loginData.email=n),type:"email",invalid:e(r).loginData.email.$error,onInput:o[1]||(o[1]=n=>e(r).loginData.email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),i(y,{error:e(r).loginData.password.$error&&e(r).loginData.password.$errors[0].$message,label:d.$t("login.password"),class:"mb-4",required:""},{default:m(()=>[i($,{modelValue:e(l).loginData.password,"onUpdate:modelValue":o[4]||(o[4]=n=>e(l).loginData.password=n),type:e(C),invalid:e(r).loginData.password.$error,onInput:o[5]||(o[5]=n=>e(r).loginData.password.$touch())},{right:m(()=>[u.value?(v(),k(f,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:o[2]||(o[2]=n=>u.value=!u.value)})):(v(),k(f,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:o[3]||(o[3]=n=>u.value=!u.value)}))]),_:1},8,["modelValue","type","invalid"])]),_:1},8,["error","label"]),V("div",X,[i(E,{to:{name:"customer.forgot-password"},class:"text-sm text-primary-600 hover:text-gray-500"},{default:m(()=>[S(q(d.$t("login.forgot_password")),1)]),_:1},8,["to"])]),V("div",null,[i(L,{loading:e(p),disabled:e(p),type:"submit",class:"w-full justify-center"},{left:m(n=>[i(f,{name:"LockClosedIcon",class:G(n.class)},null,8,["class"])]),default:m(()=>[S(" "+q(d.$t("login.login")),1)]),_:1},8,["loading","disabled"])])],40,W)}}};export{oe as default};
