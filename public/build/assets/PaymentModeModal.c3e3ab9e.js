import{e as I,c as p,z as l,A as S,O as C,K as r,J as c,L as y,M as f,u as t,C as s,P as V,a1 as j}from"./vendor.8df7962f.js";import{u as k}from"./payment.f901da8c.js";import{k as q,b as N,d as P,r as x,m as z,f as D}from"./main.9bc4ee1d.js";const L={class:"flex justify-between w-full"},A=["onSubmit"],G={class:"p-4 sm:p-6"},T={class:"z-0 flex justify-end p-4 border-t border-gray-200 border-solid"},X={setup(J){const o=q(),e=k(),{t:v}=N(),d=I(!1),h=p(()=>({currentPaymentMode:{name:{required:P.withMessage(v("validation.required"),x),minLength:P.withMessage(v("validation.name_min_length",{count:3}),z(3))}}})),a=D(h,p(()=>e)),g=p(()=>o.active&&o.componentName==="PaymentModeModal");async function b(){if(a.value.currentPaymentMode.$touch(),a.value.currentPaymentMode.$invalid)return!0;try{const n=e.currentPaymentMode.id?e.updatePaymentMode:e.addPaymentMode;d.value=!0,await n(e.currentPaymentMode),d.value=!1,o.refreshData&&o.refreshData(),u()}catch{return d.value=!1,!0}}function u(){o.closeModal(),setTimeout(()=>{a.value.$reset(),e.currentPaymentMode={id:"",name:null}})}return(n,m)=>{const M=l("BaseIcon"),B=l("BaseInput"),$=l("BaseInputGroup"),_=l("BaseButton"),w=l("BaseModal");return S(),C(w,{show:t(g),onClose:u},{header:r(()=>[c("div",L,[y(f(t(o).title)+" ",1),s(M,{name:"XIcon",class:"w-6 h-6 text-gray-500 cursor-pointer",onClick:u})])]),default:r(()=>[c("form",{action:"",onSubmit:j(b,["prevent"])},[c("div",G,[s($,{label:n.$t("settings.payment_modes.mode_name"),error:t(a).currentPaymentMode.name.$error&&t(a).currentPaymentMode.name.$errors[0].$message,required:""},{default:r(()=>[s(B,{modelValue:t(e).currentPaymentMode.name,"onUpdate:modelValue":m[0]||(m[0]=i=>t(e).currentPaymentMode.name=i),invalid:t(a).currentPaymentMode.name.$error,onInput:m[1]||(m[1]=i=>t(a).currentPaymentMode.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),c("div",T,[s(_,{variant:"primary-outline",class:"mr-3",type:"button",onClick:u},{default:r(()=>[y(f(n.$t("general.cancel")),1)]),_:1}),s(_,{loading:d.value,disabled:d.value,variant:"primary",type:"submit"},{left:r(i=>[s(M,{name:"SaveIcon",class:V(i.class)},null,8,["class"])]),default:r(()=>[y(" "+f(t(e).currentPaymentMode.id?n.$t("general.update"):n.$t("general.save")),1)]),_:1},8,["loading","disabled"])])],40,A)]),_:1},8,["show"])}}};export{X as _};
